{% extends 'pages/index.html' %}
{% load static %}

{% block content %}

<!-- Content -->
<div class="container d-flex justify-content-center my-4 mb-5">
  <div id="mobile-box">
    <!-- Loop through albums -->
    {% for album in albums %}
    <div class="card">
      <div class="bg-image hover-overlay ripple" data-mdb-ripple-color="light">
        <img class="card-img-top" src="{{ album.photo_album.url }}" alt="{{ album.title }}">
        <a href="#!">
          <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
        </a>
      </div>
      <div class="card-body text-center">
        <h5 class="h5 font-weight-bold">{{ album.title }}</h5>
        <p class="mb-0">{{ album.description }}</p>

        <!-- Loop through tracks in the album -->
        {% for track in tracks %}
        {% if track.album == album %}
        <h6 class="h6 font-weight-bold">{{ track.title }}</h6>
        <p>{{ track.description }}</p>
        <audio controls>
          <source src="{{ track.media_file.url }}" type="audio/ogg">
          <source src="{{ track.media_file.url }}" type="audio/mpeg">
        </audio>
        {% endif %}
        {% endfor %}
      </div>
    </div>
    {% endfor %}
    <!-- End loop -->
  </div>
</div>
<!-- Content -->

{% endblock %}